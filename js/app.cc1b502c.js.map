{"version":3,"file":"js/app.cc1b502c.js","mappings":"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","sources":["webpack://dkp-tracker/./src/composables/useAuth.js","webpack://dkp-tracker/./src/components/LogIn.vue","webpack://dkp-tracker/./src/components/LogIn.vue?b9f7","webpack://dkp-tracker/./src/components/DkpTable.vue","webpack://dkp-tracker/./src/components/DkpTable.vue?53cd","webpack://dkp-tracker/./src/router/index.js","webpack://dkp-tracker/./src/App.vue","webpack://dkp-tracker/./src/App.vue?7ccd","webpack://dkp-tracker/./src/main.js","webpack://dkp-tracker/webpack/bootstrap","webpack://dkp-tracker/webpack/runtime/chunk loaded","webpack://dkp-tracker/webpack/runtime/compat get default export","webpack://dkp-tracker/webpack/runtime/define property getters","webpack://dkp-tracker/webpack/runtime/global","webpack://dkp-tracker/webpack/runtime/hasOwnProperty shorthand","webpack://dkp-tracker/webpack/runtime/make namespace object","webpack://dkp-tracker/webpack/runtime/jsonp chunk loading","webpack://dkp-tracker/webpack/startup"],"sourcesContent":["import { ref, inject } from \"vue\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\n\r\nconst currentUser = ref(null);\r\nconst authInitialized = ref(false);\r\n\r\nlet authReadyResolver = null;\r\nconst authReady = new Promise((resolve) => {\r\n  authReadyResolver = resolve;\r\n});\r\n\r\nexport function useAuth() {\r\n  const auth = inject(\"auth\");\r\n\r\n  if (!auth) {\r\n    throw new Error(\"Firebase Auth not provided via inject!\");\r\n  }\r\n\r\n  // Initialize the auth listener if not already done\r\n  if (!authInitialized.value) {\r\n    onAuthStateChanged(auth, (user) => {\r\n      currentUser.value = user;\r\n      authInitialized.value = true;\r\n      if (authReadyResolver) {\r\n        authReadyResolver(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    auth,\r\n    currentUser,\r\n    authInitialized,\r\n    authReady,\r\n  };\r\n}\r\n","<template>\r\n  <div>\r\n    <h2>Email/Password Authentication</h2>\r\n    <input type=\"email\" v-model=\"email\" placeholder=\"Email\" />\r\n    <input type=\"password\" v-model=\"password\" placeholder=\"Password\" />\r\n    <button @click=\"signUp\">Sign Up</button>\r\n    <button @click=\"signIn\">Sign In</button>\r\n    <p v-if=\"errorMsg\" class=\"error\">{{ errorMsg }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, inject } from \"vue\";\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n} from \"firebase/auth\";\r\nimport { ref as dbRef, set } from \"firebase/database\"; // Import for DB access\r\n\r\nexport default defineComponent({\r\n  name: \"LogIn\",\r\n  setup() {\r\n    const email = ref(\"\");\r\n    const password = ref(\"\");\r\n    const errorMsg = ref(null);\r\n\r\n    // Inject the Firebase Auth and DB instances\r\n    const auth = inject(\"auth\");\r\n    const db = inject(\"db\");\r\n    console.log(db);\r\n\r\n    if (!auth || !db) {\r\n      console.error(\"Firebase Auth or Database not provided!\");\r\n      errorMsg.value = \"Authentication services not available.\";\r\n      return {}; // Return empty if services aren't available\r\n    }\r\n\r\n    const signUp = async () => {\r\n      errorMsg.value = null; // Clear previous errors\r\n      try {\r\n        const userCredential = await createUserWithEmailAndPassword(\r\n          auth,\r\n          email.value,\r\n          password.value\r\n        );\r\n        const user = userCredential.user;\r\n        const currentUid = user.uid;\r\n        console.log(\"User signed up! UID:\", currentUid);\r\n\r\n        // Store initial user data in Realtime Database\r\n        const userProfileRef = dbRef(db, `users/${currentUid}/profile`);\r\n        await set(userProfileRef, {\r\n          email: user.email,\r\n          createdAt: new Date().toISOString(),\r\n        });\r\n        console.log(\"User profile created in RTDB.\");\r\n      } catch (error) {\r\n        console.error(\"Error signing up:\", error.message);\r\n        errorMsg.value = error.message;\r\n      }\r\n    };\r\n\r\n    const signIn = async () => {\r\n      errorMsg.value = null; // Clear previous errors\r\n      try {\r\n        await signInWithEmailAndPassword(auth, email.value, password.value);\r\n        console.log(\"User signed in!\");\r\n      } catch (error) {\r\n        console.error(\"Error signing in:\", error.message);\r\n        errorMsg.value = error.message;\r\n      }\r\n    };\r\n\r\n    return { email, password, signUp, signIn, errorMsg };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.error {\r\n  color: red;\r\n}\r\n</style>\r\n","import { render } from \"./LogIn.vue?vue&type=template&id=d6d09536&scoped=true\"\nimport script from \"./LogIn.vue?vue&type=script&lang=js\"\nexport * from \"./LogIn.vue?vue&type=script&lang=js\"\n\nimport \"./LogIn.vue?vue&type=style&index=0&id=d6d09536&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d6d09536\"]])\n\nexport default __exports__","<template>\n  <div class=\"container\">\n    <v-card title=\"The White Order Lineage 2 DKP\" class=\"elevation-2\">\n      <template v-slot:text>\n        <v-text-field\n          v-model=\"search\"\n          label=\"Search\"\n          prepend-inner-icon=\"mdi-magnify\"\n          variant=\"outlined\"\n          hide-details\n          single-line\n          width=\"300\"\n        ></v-text-field>\n      </template>\n\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"desserts\"\n        :search=\"search\"\n      ></v-data-table>\n    </v-card>\n  </div>\n</template>\n<script setup>\nimport { ref, onMounted, inject } from \"vue\";\nimport { ref as dbRef, onValue } from \"firebase/database\";\n\nconst search = ref(\"\");\nconst desserts = ref([]);\nconst db = inject(\"db\");\nconst headers = [\n  {\n    align: \"center\",\n    key: \"user\",\n    sortable: false,\n    title: \"User Name\",\n  },\n  { key: \"dkp\", align: \"center\", title: \"DKP\" },\n];\n\nasync function fetchUserName() {\n  if (!db) {\n    console.error(\"Database not available\");\n    return;\n  }\n\n  try {\n    console.log(\"Attempting to fetch data from path: dkp/\");\n    const userRef = dbRef(db, \"dkp/\");\n    return onValue(\n      userRef,\n      (snapshot) => {\n        console.log(\"Snapshot received:\", snapshot.exists(), snapshot.val());\n        const data = snapshot.val();\n        if (data) {\n          console.log(\"Processing data:\", data);\n          const processedData = Object.entries(data).map(([key, value]) => ({\n            id: key,\n            ...value,\n          }));\n          console.log(\"Processed data:\", processedData);\n          desserts.value = processedData.sort((a, b) =>\n            a.user.localeCompare(b.user)\n          );\n        } else {\n          console.log(\"No data found in snapshot\");\n          desserts.value = [];\n        }\n      },\n      (error) => {\n        console.error(\"Database read error:\", error);\n      }\n    );\n  } catch (error) {\n    console.error(\"Error setting up database listener:\", error);\n  }\n}\n\nonMounted(() => {\n  fetchUserName();\n});\n</script>\n\n<style scoped>\n.container {\n  max-width: 75vw;\n  margin: auto;\n  padding: 20px;\n  background-color: cornflowerblue;\n}\n</style>\n","import script from \"./DkpTable.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DkpTable.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DkpTable.vue?vue&type=style&index=0&id=9c944544&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9c944544\"]])\n\nexport default __exports__","// src/router/index.js\r\nimport { createRouter, createWebHistory } from \"vue-router\";\r\nimport { useAuth } from \"../composables/useAuth\"; // Import your auth composable\r\n\r\n// Example views - make sure these exist or adjust paths\r\n\r\nimport LogIn from \"../components/LogIn.vue\";\r\nimport DkpTable from \"../components/DkpTable.vue\";\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    redirect: \"/login\",\r\n  },\r\n  {\r\n    path: \"/dkp-table\",\r\n    name: \"dkp-table\",\r\n    component: DkpTable,\r\n    meta: { requiresAuth: true }, // <--- Mark this route as protected\r\n  },\r\n  {\r\n    path: \"/log-in\",\r\n    name: \"login\",\r\n    component: LogIn,\r\n  },\r\n  {\r\n    path: \"/:pathMatch(.*)*\",\r\n    redirect: \"/dkp-table\",\r\n  },\r\n  // ... other routes\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  const { currentUser, authInitialized, authReady } = useAuth();\r\n\r\n  // Wait until Firebase Auth has initialized and determined the initial user state\r\n  if (!authInitialized.value) {\r\n    await authReady; // Wait for the auth state to be known\r\n  }\r\n\r\n  const requiresAuth = to.matched.some((record) => record.meta.requiresAuth);\r\n\r\n  if (requiresAuth && !currentUser.value) {\r\n    // If the route requires auth and the user is NOT logged in, redirect to login page\r\n    console.log(\"Redirecting to login. Requires auth but user is null.\");\r\n    next({ name: \"login\" });\r\n  } else if (to.name === \"login\" && currentUser.value) {\r\n    // If user is logged in and trying to access login/register page, redirect to home/dashboard\r\n    console.log(\"Redirecting from login/register. User is already logged in.\");\r\n    next({ name: \"dkp-table\" }); // Or a suitable authenticated landing page\r\n  } else {\r\n    // Otherwise, allow navigation\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n","<template>\n  <v-app>\n    <v-app-bar>\n      <v-container>\n        <span v-if=\"currentUser\">Welcome, {{ currentUser.email }}</span>\n        <span v-else>Please sign in</span>\n        <v-spacer></v-spacer>\n        <v-btn v-if=\"currentUser\" @click=\"signOutUser\">Sign Out</v-btn>\n      </v-container>\n    </v-app-bar>\n\n    <v-main>\n      <v-container>\n        <router-view></router-view>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script setup>\nimport { useAuth } from \"@/composables/useAuth\";\nimport { signOut } from \"firebase/auth\";\nimport { useRouter } from \"vue-router\";\n\nconst { auth, currentUser } = useAuth();\nconst router = useRouter();\n\nconst signOutUser = async () => {\n  try {\n    await signOut(auth);\n    router.push(\"/login\");\n    console.log(\"User signed out successfully.\");\n  } catch (error) {\n    console.error(\"Error signing out:\", error.message);\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n.error {\n  color: red;\n  font-weight: bold;\n}\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=d23ce7d8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from \"vue\";\nimport { createVuetify } from \"vuetify\";\nimport router from \"./router\"; // Assuming you have your router setup here\n\nimport \"vuetify/styles\";\nimport * as components from \"vuetify/components\";\nimport * as directives from \"vuetify/directives\";\nimport App from \"./App.vue\";\n\n// Assuming you've already run: npm install firebase\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase } from \"firebase/database\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyARl2Ai3AP9JPwKeZ-vustpvsC5RNW-YD4\",\n  authDomain: \"dkptracker-6121c.firebaseapp.com\",\n  databaseURL: \"https://dkptracker-6121c-default-rtdb.firebaseio.com\",\n  projectId: \"dkptracker-6121c\",\n  storageBucket: \"dkptracker-6121c.firebasestorage.app\",\n  messagingSenderId: \"1047085462747\",\n  appId: \"1:1047085462747:web:a5b6e403a81f29420fc8fe\",\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\nconst dbInstance = getDatabase(firebaseApp);\n\nconsole.log(\"main.js: dbInstance after getDatabase:\", dbInstance);\n\nconst vuetify = createVuetify({\n  components,\n  directives,\n});\n\nconst app = createApp(App);\napp.provide(\"db\", dbInstance);\napp.provide(\"auth\", auth); // Provide auth to all components\n\napp.use(vuetify);\napp.use(router);\napp.mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdkp_tracker\"] = self[\"webpackChunkdkp_tracker\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3704); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["currentUser","ref","authInitialized","authReadyResolver","authReady","Promise","resolve","useAuth","auth","inject","Error","value","onAuthStateChanged","user","class","_createElementBlock","_createElementVNode","type","_ctx","email","$event","placeholder","password","onClick","_cache","args","signUp","signIn","errorMsg","_hoisted_1","_toDisplayString","defineComponent","name","setup","db","console","log","error","async","userCredential","createUserWithEmailAndPassword","currentUid","uid","userProfileRef","dbRef","set","createdAt","Date","toISOString","message","signInWithEmailAndPassword","__exports__","render","search","desserts","headers","align","key","sortable","title","fetchUserName","userRef","onValue","snapshot","exists","val","data","processedData","Object","entries","map","id","sort","a","b","localeCompare","onMounted","_createVNode","_component_v_card","text","_withCtx","_component_v_text_field","label","variant","width","_component_v_data_table","items","routes","path","redirect","component","DkpTable","meta","requiresAuth","LogIn","router","createRouter","history","createWebHistory","process","beforeEach","to","from","next","matched","some","record","useRouter","signOutUser","signOut","push","_createBlock","_component_v_app","_component_v_app_bar","_component_v_container","_unref","_hoisted_2","_component_v_spacer","_component_v_btn","_component_v_main","_component_router_view","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseApp","initializeApp","getAuth","dbInstance","getDatabase","vuetify","createVuetify","components","directives","app","createApp","App","provide","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}